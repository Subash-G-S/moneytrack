<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FinTrack - Smart Income & Expense Management</title>
    <link rel="icon" type="image/png" href="/moneylogo.png" />
    <meta name="theme-color" content="#0b5ed7">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="moneylogo.png" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="description" content="Track your income and expenses effortlessly with our responsive web app. Mobile-friendly personal finance management with beautiful charts and insights." />
    <meta name="author" content="ExpenseTracker" />
    <meta name="keywords" content="expense tracker, income tracker, personal finance, budget management, financial planning" />

    <meta property="og:title" content="ExpenseTracker - Smart Income & Expense Management" />
    <meta property="og:description" content="Track your income and expenses effortlessly with our responsive web app. Mobile-friendly personal finance management with beautiful charts and insights." />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
  // Register service worker
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker
      .register('/service-worker.js')
      .then(() => console.log('✅ Service Worker registered'))
      .catch((err) => console.log('❌ SW registration failed:', err));
  }

  // Mobile-only install prompt
  let deferredPrompt;
  const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;

    if (isMobile) {
      const installBtn = document.createElement('button');
      installBtn.textContent = '📱 Install FinTrack App';
      installBtn.style.position = 'fixed';
      installBtn.style.bottom = '50px';
      installBtn.style.left = '50%';
      installBtn.style.transform = 'translateX(-50%)';
      installBtn.style.background = '#4CAF50';
      installBtn.style.color = '#fff';
      installBtn.style.border = 'none';
      installBtn.style.borderRadius = '10px';
      installBtn.style.padding = '12px 30px';
      installBtn.style.fontSize = '16px';
      installBtn.style.cursor = 'pointer';
      installBtn.style.zIndex = '1000';
      document.body.appendChild(installBtn);

      installBtn.addEventListener('click', async () => {
        installBtn.style.display = 'none';
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        console.log(`User response to install prompt: ${outcome}`);
        deferredPrompt = null;
      });
    }
  });
</script>
  </body>
</html>
